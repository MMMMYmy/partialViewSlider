(function(e,c,b,g){var d="partialViewSlider",f={auto:false,delay:4000,controls:true,controlsPosition:"inside",prevHtml:'<i class="material-icons">chevron_left</i>',nextHtml:'<i class="material-icons">chevron_right</i>',width:70,transitionSpeed:400,backdrop:true,perspective:false,pauseOnHover:true,keyboard:true,onLoad:function(){},onSlideEnd:function(){}};function a(i,h){this.element=i;this.options=e.extend({},f,h);this._defaults=f;this._name=d;this.init();}e.extend(a.prototype,{init:function(){var h,k;h=this;k=e(this.element);k.wrap('<div class="partialViewSlider-outerwrapper"><div class="partialViewSlider-wrapper"></div></div>');this.outerWrapper=k.closest(".partialViewSlider-outerwrapper"),this.wrapper=k.closest(".partialViewSlider-wrapper");if(this.options.controlsPosition=="outside"){e(this.outerWrapper).addClass("partialViewSlider-outsideControls");}else{if(this.options.controlsPosition=="neighbors"){e(this.outerWrapper).addClass("partialViewSlider-neighborControls");}}var l=k.find("li").slice(0,2),j=k.find("li").slice(-2);k.prepend(j.clone().addClass("partialViewSlider-clone"));k.append(l.clone().addClass("partialViewSlider-clone"));if(this.options.perspective){e(this.wrapper).addClass("partialViewSlider-perspective");}if(this.options.controls){e(this.outerWrapper).append('<a href="#" class="partialViewSlider-nav partialViewSlider-prev">'+this.options.prevHtml+"</a>");e(this.outerWrapper).append('<a href="#" class="partialViewSlider-nav partialViewSlider-next">'+this.options.nextHtml+"</a>");}if(this.options.backdrop){e(this.wrapper).append('<div class="partialViewSlider-backdrop"></div>');e(this.wrapper).append('<div class="partialViewSlider-backdrop partialViewSlider-right"></div>');}h.calculateNumbers();setTimeout(function(){k.css("transition-duration",h.options.transitionSpeed+"ms");e(h.slides).css("transition-duration",h.options.transitionSpeed+"ms");},20);if(this.options.auto){h.looper=setInterval(function(){h.moveSlider("forward");},this.options.delay);if(this.options.pauseOnHover){e(h.wrapper).on("mouseenter",function(){clearInterval(h.looper);});e(h.wrapper).on("mouseleave",function(){h.looper=setInterval(function(){h.moveSlider("forward");},h.options.delay);});}}e(this.outerWrapper).on("click",".partialViewSlider-next",function(m){m.preventDefault();h.moveSlider("forward");});e(this.outerWrapper).on("click",".partialViewSlider-prev",function(m){m.preventDefault();h.moveSlider("backward");});if(this.options.keyboard){e(document).on("keyup",function(m){if(!e(":focus").is("input, textarea")){if(m.keyCode===37){h.moveSlider("backward");}else{if(m.keyCode===39){h.moveSlider("forward");}}}});}var i;e(c).on("resize orientationchange",function(){clearTimeout(i);i=setTimeout(function(){h.calculateNumbers();},500);});this.options.onLoad.call(k);},calculateNumbers:function(){var h=e(this.element);this.slides=h.find("li");this.numElements=this.slides.length,this.numSlides=this.numElements-4,this.wrapperWidth=e(this.wrapper).width(),this.slideWidth=this.wrapperWidth*(this.options.width)/100,this.sideWidth=this.wrapperWidth*((100-this.options.width)/2)/100;h.width(this.numElements*this.slideWidth);e(this.slides).width(this.slideWidth);this.index=0;this.slideMovement=this.wrapperWidth*this.options.width/100;this.firstMovement=this.currentPosition=-(this.slideWidth-this.sideWidth+this.slideWidth);h.css({"-webkit-transform":"translateX("+(this.firstMovement)+"px)",transform:"translateX("+(this.firstMovement)+"px)"});e(this.slides[2]).addClass("active");h.siblings(".partialViewSlider-backdrop").css("width",this.sideWidth);},moveSlider:function(j){var h=this;var i=e(this.element);if(j=="forward"){this.index++;this.currentPosition-=this.slideWidth;}else{if(j=="backward"){this.index--;this.currentPosition+=this.slideWidth;}}e(this.slides[this.index+2]).addClass("active").siblings().removeClass("active");i.css({"-webkit-transform":"translateX("+this.currentPosition+"px)",transform:"translateX("+this.currentPosition+"px)"});setTimeout(function(){if(h.index>h.numSlides-1){h.index=0;h.currentPosition=h.firstMovement;var k=true;}else{if(h.index<0){h.index=h.numSlides-1;h.currentPosition-=h.numSlides*h.slideWidth;var k=true;}else{var k=false;}}if(k){e(h.slides).css("transition-duration","0ms");e(h.slides[h.index+2]).addClass("active");i.css({"transition-duration":"0ms","-webkit-transform":"translateX("+h.currentPosition+"px)",transform:"translateX("+h.currentPosition+"px)"});setTimeout(function(){i.css("transition-duration",h.options.transitionSpeed+"ms");e(h.slides).css("transition-duration",h.options.transitionSpeed+"ms");},20);}h.options.onSlideEnd.call(h.element);},this.options.transitionSpeed);},prev:function(){this.moveSlider("backward");},next:function(){this.moveSlider("forward");},play:function(){var h=this;this.looper=setInterval(function(){h.moveSlider("forward");},h.options.delay);},pause:function(){clearInterval(this.looper);}});e.fn[d]=function(h){var i;this.each(function(){i=e.data(this,"plugin_"+d);if(!i){i=new a(this,h);e.data(this,"plugin_"+d,i);}});return i;};}(jQuery,window,document));